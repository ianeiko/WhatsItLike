function MainApp(e,t,n,r){if(n.place&&n.month){var i=n.place,s=n.month;document.documentElement.className="";r.setProperty({month:s,place:i});t.get("data/"+i+".json").success(function(t){var n=[];for(var r=0;r<t.length;r++){n.push(t[r].month);s==t[r].month&&(e.data=t[r])}updateNav(s,n)})}else{document.documentElement.className="map";r.setProperty({month:0,place:""});updateNav(0);loadMap()}e.getBadgeName=function(e){switch(e){case 1:return"High costs";case 2:return"Lots of tourists";case 3:return"Best time for snorkeling";case 4:return"Rain season";case 5:return"Mosquito time";case 6:return"Floods";case 7:return"Power blackouts";case 8:return"Suspended flight services";case 9:return"Very hot";case 10:return"Time to party";case 11:return"Very cold";case 12:return"Typhoon season"}}}function MainNav(e,t,n){e.changeMonth=function(e){var r=n.getProperty(),i=document.getElementById("main-nav").getElementsByTagName("li"),s=i[e-1];r.place&&s.className!="disabled"&&t.path("/places/"+r.place+"/"+e)}}function updateNav(e,t){var n=document.getElementById("main-nav"),r=n.getElementsByTagName("li");n.setAttribute("data-active",e);if(e>0&&t)for(var i=0;i<r.length;i++){var s=t.indexOf(i+1)>-1;s?r[i].className="":r[i].className="disabled"}}function loadMap(){var e=[{geometry:{type:"Point",coordinates:[103.8871694,22.3094655]},properties:{image:"http://upload.wikimedia.org/wikipedia/commons/1/1f/Sapa3.jpg",url:"#/places/sapa/6",city:"Sa Pa, Vietnam","marker-color":"#ffc84e","marker-size":"large"}},{geometry:{type:"Point",coordinates:[103.864403,13.36866]},properties:{image:"http://upload.wikimedia.org/wikipedia/commons/7/77/Siemreap.jpg",url:"#/places/siemreap/4",city:"Siem Reap, Cambodia","marker-color":"#ffc84e","marker-size":"large"}},{geometry:{type:"Point",coordinates:[119.38749540042421,11.179478273369376]},properties:{image:"http://upload.wikimedia.org/wikipedia/commons/7/77/ElNido_Bay_Palawan.jpg",url:"#/places/elnido/8",city:"El Nido, Palawan, Philippines","marker-color":"#f63a39","marker-size":"large"}},{geometry:{type:"Point",coordinates:[115.26004893465226,-8.458092963238881]},properties:{image:"http://inzumi.com/images/destinations/ID_Bali_Reiseziel_7.jpg",url:"#/places/bali/8",city:"Bali, Indonesia","marker-color":"#71bc4e","marker-size":"large"}}],t=mapbox.map("map");t.addLayer(mapbox.layer().id("jneiku.map-cz9jmzy0"));var n=mapbox.markers.layer().features(e),r=mapbox.markers.interaction(n);t.addLayer(n);r.formatter(function(e){var t='<a href="'+e.properties.url+'">'+"<h3>"+e.properties.city+"</h3>"+"</a>";return t});t.centerzoom({lat:8.36866,lon:108.864403},5)}angular.module("whatsitlike",["whatsitlikeServices"]).config(["$routeProvider",function(e){e.when("/app",{templateUrl:"partials/map.html",controller:MainApp}).when("/places/:place/:month",{templateUrl:"partials/detail.html",controller:MainApp}).otherwise({redirectTo:"/app"})}]);angular.module("whatsitlikeServices",[]).service("sharedProperties",function(){var e={month:0,place:""};return{getProperty:function(){return e},setProperty:function(t){e=t}}});